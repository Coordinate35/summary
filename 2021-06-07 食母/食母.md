|作者|版本号|时间|
|:-|:-|:-|
|Coordinate35| v1.0.0 | 2021-06-08 |

# 食母

最近对这个概念产生的更多的共鸣，所以放在这里记录一下。

## 背景
我所在的团队今年要做服务网格(service mesh)，团队人力比较紧缺，大概是4～5个人。今年的目标是实现服务网格在公司线上核心业务的落地。
当前状态处于，各种控制面系统（限流、路由、超时等治理能力）都有不同的团队维护的不同的平台，到数据面的控制流下发是不同的通道完成的。

## 现象

第一个现象：
团队正在制定下一个阶段的演进方案。当前面临的一个问题是：到底是使用相对标准的开源组件 istio 的 pilot 进行控制流下发，还是自研一套组件。当前花费了大量的时间去进行开源组件实现细节的调研，但是还没有形成一个比较明确的结论。

## 分析

这两个方案都是业界产生的，业界中有了这两个方案，所以我们在做具体决策的时候，也借鉴地从这两个方向去考虑问题。但是，名总是为了解决问题产生的，我们不能在不知道自己要解决什么问题的情况下，直接把别人的名盗用过来：这是简单的求“有所以”。
要真正解决问题，就需要“贵食母”。食母，是求本源，求最本质的需求是什么。
所以决定我们要使用开源方案还是自研，最根本的是要搞清楚我们要“图什么”。
如果是为了能够后续更好的集成开源社区的能力;亦或是为了能让自己产生开源影响力，让自己能参与标准的指令等等，那就是不管如何，都要去将开源组件落地下来;如果仅仅是为了解决内部的问题，不管哪个方案都能实现需求，那就是怎么简单（要增加的依赖条件少）怎么来。
抛开了问题谈设计，那就做不好设计：不管细节了解到多仔细，都做不出这个决策。

所以明确了需求，才能做到“知不知”。知道自己不知道什么，才知道调研要做到哪一步。

## 补充

第二个现象：
当前半年目标定义为 sidecar 在线下仿真环境核心链路落地。需求已经达成，但是还在花费精力去寻找线下环境的需求。

这个目标最初是为了验证 sidecar 模式的可行性，为了避免影响线下稳定性，所以才先在线下环境落地。而为了能在线下环境落地，就必须给业务带来价值。所以满足业务需求是一件不得不做的事。
我们在为了达成一个目标的过程中，很多时候有很多不得不向外界妥协做的事情。这些事情通常都有价值，都可以充分延展成一个专门的项目。但是资源是有限的，要在有限的资源约束下达成最终的目标，就需要明确这些事情需要做到哪个程度。
如果在线下环境落地这个事情，目标是为了验证方案可行性，那其实已经做到了。就应该把精力放在促成最终目标其他事情上。而不是继续在这个事情上寻找其他的所谓“价值”。（关于企业内团队要自己寻找“价值”这个事情，我也不认可，这个我打算专门开一个 topic 讨论这个事）